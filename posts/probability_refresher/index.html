<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rushi Shah">
<meta name="dcterms.date" content="2024-03-17">

<title>Rushi’s Furnace - An Expansive Probability Refresher</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<style type="text/css">
  h2, .h2 {
    border-bottom: none;
  }
</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Rushi’s Furnace</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/shahrushi2003"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/RushiShah1729"> <i class="bi bi-twitter-x" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">An Expansive Probability Refresher</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Rushi Shah </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 17, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="motivation" class="level1">
<h1>Motivation</h1>
<p>Many students study probability in high school or college but fail to grasp the common-sensical understanding of this natural topic. They usually end up memorising a ton of formulae and applying them to a hundred questions. I don’t know about them, but probability surely deserves better! I will explain everything in granular detail, providing informal, simple explanations alongside formal definitions of various terms and concepts. So, without further ado, let’s start!</p>
<hr>
</section>
<section id="the-informal-intro" class="level1">
<h1>The Informal Intro</h1>
<section id="what-is-a-random-variable" class="level2">
<h2 class="anchored" data-anchor-id="what-is-a-random-variable">What is a random variable?</h2>
<p>It’s just a function that maps an event’s textual description to a relevant number. For example, if we toss a coin, a random variable <span class="math inline">\(X\)</span> can be defined as follows:</p>
<p><span class="math display">\[X(heads) = 1\]</span></p>
<p>Now, let’s toss two coins and define <span class="math inline">\(X\)</span> to denote the number of heads as shown below:</p>
<p><span class="math display">\[X(TT) = 0\]</span></p>
<p>So, apparently, the only reason random variables exist is that our X-axis can’t fit words :))! Quite some existential crisis, isn’t it?</p>
</section>
<section id="what-exactly-is-probability" class="level2">
<h2 class="anchored" data-anchor-id="what-exactly-is-probability">What exactly is probability?</h2>
<p>Let’s start with the most basic definition of probability. <span class="math display">\[probability = \frac {number \, of \, favourable \, outcomes}{total \, number \, of \, possible \, outcomes}\]</span> This can be applied to the simple example of a coin toss using the random variable <span class="math inline">\(X\)</span>as shown above, as follows: <span class="math display">\[prob(X=1) = \frac {1} {2} \, ; \, prob(X=0) = \frac {1} {2}\]</span> However, this definition has two significant limitations :(!</p>
<section id="the-eq-problem" class="level3">
<h3 class="anchored" data-anchor-id="the-eq-problem">The EQ Problem!</h3>
<p>Our definition works well for the unbiased coin toss example. But, let’s take a biased coin with heads on both sides(like the one shown in the movie “Sholay”!). According to our formula: <span class="math display">\[prob(X=1) = \frac {num \, outcomes \, having \, heads} {total \, number \, of \, outcomes} = \frac {1}{2}\]</span> However, in reality, <span class="math inline">\(prob(X=1) = 1\)</span>. Hence, our definition does not work when all outcomes are not <strong>EQually</strong> likely. In such cases, we conduct experiments and note down the outcomes. This gives us the evidence to support our probability values. Hence, the new definition of probability becomes: <span class="math display">\[prob(X=\lambda) = \lim\limits_{n_{total} \rightarrow \infty} \frac {n_\lambda} {n_{total}}\]</span> Let’s understand this with the typical example of a coin toss. Suppose we are dumb and don’t know that <span class="math inline">\(prob(heads) = 0.5\)</span>. However, we are not too dumb, so we decided to do ten coin tosses and observe. We get three heads and seven tails. So, we define <span class="math inline">\(prob(heads) = 0.3\)</span>. Now, a moderately clever (but idle!) person says, “Let’s do it 1000 times!”. This time, we get 550 heads and 450 tails. Now, <span class="math inline">\(prob(heads)\)</span> becomes <span class="math inline">\(0.55\)</span>. As you can notice, as we increase the number of tosses, our probabilities get closer and closer to the correct answer. This is the logic behind the <span class="math inline">\(n_{total} \rightarrow \infty\)</span> limit in the above formula.</p>
</section>
<section id="the-infinity-problem" class="level3">
<h3 class="anchored" data-anchor-id="the-infinity-problem">The Infinity Problem</h3>
<p>It only works when the total number of possible outcomes is finite. This is a big problem because it is not the case in most practical scenarios. For example, what can we do if we want to find the value of <span class="math inline">\(prob(temp \in [17.29^{\circ}C, 20^{\circ}C])\)</span> in a room?</p>
<p>Currently, we are viewing probability as just discrete values assigned to a finite number of events. However, think about it and tell me if going around assigning probabilities to each and every point on the x-axis is a good option or not. Of course, it’s foolish. Let’s try peeking through the lens of calculus. One of the main lessons of calculus was to <strong>“think in terms of</strong> <strong><em>ranges</em></strong> <strong>rather than</strong> <strong><em>points”</em></strong>. Okay, so we make a graph where the x-axis contains the infinite range of values available to us while the y-axis contains <span class="math inline">\(prob(X \le x)\)</span>. Let’s name this function of this graph as <span class="math inline">\(cprob\)</span>. Hence, rather than focussing on <span class="math inline">\(prob(X=x)\)</span>, we focus on <span class="math inline">\(prob(X \le x)\)</span>. This way, the problem is solved because: <span class="math display">\[\small \begin{equation*} \begin{split} prob(temp \in [17.29^{\circ}C, 20^{\circ}C]) &amp;= prob(temp \le 20^{\circ}C) - prob(temp \le 17.29^{\circ}C) \\ &amp;= cprob(temp=20^{\circ}C) - cprob(temp=17.29^{\circ}C) \end{split} \\ \end{equation*}\]</span></p>
<hr>
</section>
</section>
</section>
<section id="the-functions" class="level1">
<h1>The Functions</h1>
<p>Let’s look at some important functions and properties commonly used to define probabilities.</p>
<section id="cdf" class="level2">
<h2 class="anchored" data-anchor-id="cdf">CDF</h2>
<p>A cumulative distribution function is a function <span class="math inline">\(F_X : \mathbb{R} \rightarrow [0, 1]\)</span> which specifies a probability measure as: <span class="math display">\[F_X(x) = P(X \le x)\]</span> Some properties of CDF include:</p>
<ul>
<li>It is an increasing function.</li>
<li><span class="math inline">\(lim_{x \rightarrow -\infty} F_X(x) = 0\)</span> as <span class="math inline">\(P(\phi) = 0\)</span></li>
<li><span class="math inline">\(lim_{x \rightarrow \infty} F_X(x) = 1\)</span> as <span class="math inline">\(P(\varOmega) = 1\)</span></li>
</ul>
</section>
<section id="pmf" class="level2">
<h2 class="anchored" data-anchor-id="pmf">PMF</h2>
<p>For discrete random variables, it is simpler to literally define the probability for each point. This is called the probability mass function of that random variable. For example, let us consider the tossing of two coins. The random variable is the number of heads, i.e.&nbsp;<span class="math inline">\(X(\varOmega) \in Val(X) = \{ 0, 1, 2 \}\)</span>. So, the PMF <span class="math inline">\(p_X : Val(X) \rightarrow [0, 1]\)</span> can be defined as follows: <span class="math display">\[p_X(0) = 0.25\]</span> <span class="math display">\[p_X(1) = 0.5\]</span> <span class="math display">\[p_X(2) = 0.25\]</span></p>
</section>
<section id="pdf" class="level2">
<h2 class="anchored" data-anchor-id="pdf">PDF</h2>
<p>If a CDF is continuous and differentiable everywhere, the probability density function is defined as the derivative of CDF. <span class="math display">\[f_X(x) = \frac{dF_X(x)}{dx}\]</span> Some subtle points about PDFs are as follows:</p>
<ul>
<li>PDF does not exist for a random variable if its CDF is continuous but not differentiable everywhere.</li>
<li>Value of PDF at a given point <span class="math inline">\(x\)</span> is not necessarily equal to the probability of that event, i.e.,<span class="math display">\[f_X(x) \ne P(X=x)\]</span>In fact, for continuous random variables, <span class="math inline">\(P(X=x) = 0 \enspace \forall \enspace x\)</span> because we only talk about interval probabilities whenever continuous random variables are concerned.</li>
<li><span class="math inline">\(f_X(x) \ge 0\)</span>, but not necessarily <span class="math inline">\(\le 1\)</span>, as the derivative can be greater than <span class="math inline">\(1\)</span>.</li>
<li><span class="math inline">\(\int_{- \infty}^{\infty} f_X(x) = 1\)</span></li>
</ul>
<hr>
</section>
</section>
<section id="the-properties" class="level1">
<h1>The Properties</h1>
<section id="expectation" class="level2">
<h2 class="anchored" data-anchor-id="expectation">Expectation</h2>
<p>If <span class="math inline">\(p_X(x)\)</span> is the PMF of a discrete variable <span class="math inline">\(X\)</span>, <span class="math display">\[E[g(X)] = \sum_{x \in Val(X)} g(x)p_X(x)\]</span> On the other hand, for a continuous variable <span class="math inline">\(X\)</span> with PDF <span class="math inline">\(f_X(x)\)</span>, <span class="math display">\[E[g(X)] = \int_{-\infty}^{\infty} g(x)f_X(x)\]</span></p>
<p>Some properties of expectations are as follows: * <span class="math inline">\(E[X]\)</span> is the same as <span class="math inline">\(mean(X)\)</span> conceptually. It’s just that <span class="math inline">\(E[X]\)</span> is used to define what will happen in the future while <span class="math inline">\(mean(X)\)</span> is used to “summarise” the past. * <span class="math inline">\(E[1\{ X=k \}] = P(X=k)\)</span></p>
</section>
<section id="variance" class="level2">
<h2 class="anchored" data-anchor-id="variance">Variance</h2>
<p>It is the measure of how concentrated a distribution is around its mean. Mathematically, we can express it as: <span class="math display">\[Var[X] = E[(X-E[X])^2]\]</span> Also, one more way to write the above formula would be: <span class="math display">\[Var[X] = E[X^2] - (E[X])^2\]</span> A simple property of variance is: <span class="math display">\[Var[aX] = a^2Var[X]\]</span></p>
<hr>
</section>
</section>
<section id="some-common-probability-distributions" class="level1">
<h1>Some Common Probability Distributions</h1>
<section id="the-discrete-distros" class="level2">
<h2 class="anchored" data-anchor-id="the-discrete-distros">The Discrete Distros</h2>
<ol type="1">
<li><strong>Bernoulli</strong> - Probability of getting a head in a simple coin toss!<span class="math display">\[\small p_X(x) = \begin{cases} p &amp;\text{if } x = 1 \\ 1 - p &amp;\text{if } x = 0 \end{cases}\]</span></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="bernoulli.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="bernoulli.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></a></p>
</figure>
</div>
<ol start="2" type="1">
<li><strong>Binomial</strong> - Probability of getting <span class="math inline">\(x\)</span> heads in <span class="math inline">\(n\)</span> tosses!<span class="math display">\[\small p_X(x) = {n \choose x} . p^x (1-p)^{n-x}\]</span></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="binomial.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="binomial.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></a></p>
</figure>
</div>
<ol start="3" type="1">
<li><strong>Geometric</strong> - Probability of getting the first head at the <span class="math inline">\(x^{th}\)</span> toss!<span class="math display">\[p_X(x) = p(1-p)^{x-1}\]</span></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="geometric.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="geometric.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></a></p>
</figure>
</div>
<ol start="4" type="1">
<li><strong>Poisson</strong> - It is just a special case of the binomial distribution but requires some further explanation. In binomial, we know the number of trials and the probability of success in a particular trial. However, imagine a situation where we know the average success rate over a given period. Let this rate of success be <span class="math inline">\(\lambda\)</span>. Also, the number of trials <span class="math inline">\(n\)</span> would tend to <span class="math inline">\(\infty\)</span>. Put <span class="math inline">\(p = \frac {\lambda} {n}\)</span> in the binomial formula. After solving the limit on <span class="math inline">\(n \rightarrow \infty\)</span> (full proof <a href="https://medium.com/@andrew.chamberlain/deriving-the-poisson-distribution-from-the-binomial-distribution-840cc1668239">here</a>), we get the following formula to find out the probability of getting <span class="math inline">\(k\)</span> successes per period (the same as <span class="math inline">\(\lambda\)</span>’s period) would be:<span class="math display">\[p_X(X=k) = \frac {e^{-\lambda} \lambda^k} {k!}\]</span></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="poisson.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="poisson.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></a></p>
</figure>
</div>
</section>
<section id="the-continuous-distros" class="level2">
<h2 class="anchored" data-anchor-id="the-continuous-distros">The Continuous Distros</h2>
<ol type="1">
<li><strong>Uniform</strong><span class="math display">\[\small f_X(x) = \begin{cases} \frac {1}{b-a} &amp;\text{if } a \le x \le b \\ 0 &amp;\text{otherwise} \end{cases}\]</span></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="uniform.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="uniform.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></a></p>
</figure>
</div>
<ol start="2" type="1">
<li><strong>Exponential</strong><span class="math display">\[\small f_X(x) = \begin{cases} \lambda e^{-\lambda x} &amp;\text{if } x \ge 0 \\ 0 &amp;\text{otherwise} \end{cases}\]</span></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="exponential.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="exponential.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></a></p>
</figure>
</div>
<ol start="3" type="1">
<li><strong>Gaussian</strong><span class="math display">\[f_X(x) = \frac {1} {\sqrt{2 \pi} \ \sigma} e^{ \frac{1}{2} (\frac {x-\mu}{\sigma})^2}\]</span></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="gaussian.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="gaussian.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></a></p>
</figure>
</div>
<hr>
</section>
</section>
<section id="working-with-multiple-variables" class="level1">
<h1>Working with multiple variables</h1>
<p>So, we have now mastered dealing with probabilities involving a single variable. But, the beautiful concept of demystifying <strong>uncertainty</strong> can be applied to model the “highly random” real world. However, we first need to learn to deal with two variables. Only then can we completely model the real world, which contains so many variables. Let’s dive right in, shall we?</p>
<section id="joint-cdf-and-marginal-cdf" class="level2">
<h2 class="anchored" data-anchor-id="joint-cdf-and-marginal-cdf">Joint CDF and Marginal CDF</h2>
<p>Working with two variables means analysing their probability distribution <strong>together</strong>. Let our variables be <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. Then, the joint cumulative function can be quite analogously defined as: <span class="math display">\[F_{XY} (x, y) = P(X \le x, Y \le y)\]</span> Great! But, we may also want to observe just one variable. Given the joint CDF, we can easily do that as follows: <span class="math display">\[F_{X} (x) = \lim\limits_{y \rightarrow \infty} F_{XY} (x, y)\]</span> These are called the marginal cumulative distribution functions. Here, the logic behind <span class="math inline">\(y \rightarrow \infty\)</span> and <span class="math inline">\(x \rightarrow \infty\)</span> is to allow all values of that variable, which ensures that the existence of that variable is being fully considered.</p>
<p>Some properties of joint CDF include:</p>
<ul>
<li><span class="math inline">\(\lim\limits_{x, y \rightarrow -\infty} F_{XY} (x, y) = 0\)</span></li>
<li><span class="math inline">\(\lim\limits_{x, y \rightarrow \infty} F_{XY} (x, y) = 1\)</span></li>
</ul>
</section>
<section id="joint-pmf-and-marginal-pmf" class="level2">
<h2 class="anchored" data-anchor-id="joint-pmf-and-marginal-pmf">Joint PMF and Marginal PMF</h2>
<p>For two discrete random variables <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, we can simply define the joint probability mass function as: <span class="math display">\[p_{XY}(x, y) = P(X=x, Y=y)\]</span> Let the set of all possible values taken by <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> be <span class="math inline">\(Val(X)\)</span> and <span class="math inline">\(Val(Y)\)</span>. Quite easily, the marginal probability mass function can be said to be: <span class="math display">\[p_X(x) = \sum_{y \in Val(Y)} p_{XY}(x, y)\]</span></p>
</section>
<section id="joint-pdf-and-marginal-pdf" class="level2">
<h2 class="anchored" data-anchor-id="joint-pdf-and-marginal-pdf">Joint PDF and Marginal PDF</h2>
<p>If the joint CDF is differentiable everywhere, we can define the joint probability density function as follows: <span class="math display">\[f_{XY}(x, y) = \frac {\partial^2 F_{XY}(x, y)} {\partial x \partial y}\]</span> Similarly, we can define the marginal probability density function as: <span class="math display">\[f_X(x, y) = \int_{-\infty}^{\infty} f_{XY}(x, y)dy\]</span> Also, <span class="math display">\[\int_{-\infty}^{\infty} \int_{-\infty}^{\infty} f_{XY} (x, y) dxdy = 1\]</span></p>
</section>
<section id="expectation-and-covariance" class="level2">
<h2 class="anchored" data-anchor-id="expectation-and-covariance">Expectation and Covariance</h2>
<p>For discrete variables, <span class="math display">\[\mathbb{E}[g(X, Y)] = \sum_{x \in Val(X)} \sum_{y \in Val(Y)} g(x, y)p_{XY}(x, y)\]</span> For continuous variables, <span class="math display">\[\mathbb{E}[g(X, Y)] = \int_{-\infty}^{\infty} \int_{-\infty}^{\infty} g(x, y)f_{XY}(x, y)dxdy\]</span> Now, a useful thing to observe is how both variables “correlate” with each other. By “correlate”, I mean “do larger values of&nbsp;<span class="math inline">\(X\)</span> correspond with larger values of&nbsp;<span class="math inline">\(Y\)</span> and how often?”. This is called covariance and can be computed as follows: <span class="math display">\[Cov[X, Y] = \mathbb{E} [(X - \mathbb{E}[X])(Y-\mathbb{E}[Y])]\]</span> By a little manuevering, we can derive: <span class="math display">\[Cov[X, Y] = \mathbb{E}[XY] - \mathbb{E}[X]\mathbb{E}[Y]\]</span> When larger values of <span class="math inline">\(X\)</span> correspond with larger values of <span class="math inline">\(Y\)</span>, the covariance is negative. On the other hand, when larger values of <span class="math inline">\(X\)</span> correspond with smaller values of <span class="math inline">\(Y\)</span>, the covariance is positive.</p>
<p>Some important points to note:</p>
<ul>
<li><span class="math inline">\(Var[X + Y] = Var[X] + Var[Y] + 2Cov[X, Y]\)</span></li>
<li><span class="math inline">\(Cov[X, Y]=0 \rightarrow\)</span> Independence of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> but its inverse is not true. A counter-example is: Take <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> such that <span class="math inline">\(Y=X^2\)</span>. Here, <span class="math inline">\(Cov[X, Y] = 0\)</span> but <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are clearly not independent.</li>
</ul>
</section>
<section id="conditional-probability" class="level2">
<h2 class="anchored" data-anchor-id="conditional-probability">Conditional Probability</h2>
<p>Let <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> be two events. The probability of an event <span class="math inline">\(A\)</span> after observing the occurrence of the event <span class="math inline">\(B\)</span> is termed as conditional probability and denoted by <span class="math inline">\(P(A | B)\)</span>. If <span class="math inline">\(P(B) \ne 0\)</span>, we can define the conditional probability as: <span class="math display">\[P(A | B) = \frac {P(A \cap B)}{P(B)}\]</span> The logic behind this famous problem is not that famous, unfortunately! Let me explain. Let <span class="math inline">\(S\)</span> be the sample space. Our task is to find the probability of <span class="math inline">\(A\)</span> given that we have observed <span class="math inline">\(B\)</span>. Obviously, <span class="math inline">\(P(S) = 1\)</span>. However, we need to focus on <span class="math inline">\(B\)</span> which is a subset of <span class="math inline">\(S\)</span>. So, we need to define another function <span class="math inline">\(P^\prime\)</span> such that <span class="math inline">\(P^\prime (B) = 1\)</span>. This leads us to the following definition of <span class="math inline">\(P^\prime\)</span>: <span class="math display">\[P^\prime(A) = \frac {1}{P(B)} P(A)\]</span> However, there’s a small catch. Since we have observed <span class="math inline">\(B\)</span>, we need to discard the part of <span class="math inline">\(A\)</span> which resides outside of <span class="math inline">\(B\)</span>! Hence, the new definition becomes: <span class="math display">\[P^\prime(A) = \frac {1}{P(B)} P(A \cap B)\]</span></p>
</section>
<section id="the-concept-of-independence" class="level2">
<h2 class="anchored" data-anchor-id="the-concept-of-independence">The Concept of Independence</h2>
<p>Only a bit of common sense is required to understand that <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent if: <span class="math display">\[P(A|B) = P(A)\]</span> Putting in the conditional probability formula, we get: <span class="math display">\[P(A \cap B) = P(A) \cdot P(B)\]</span></p>
<hr>
</section>
</section>
<section id="the-laws-and-rules" class="level1">
<h1>The Laws and Rules</h1>
<section id="law-of-total-probability" class="level3">
<h3 class="anchored" data-anchor-id="law-of-total-probability">Law of Total Probability</h3>
<p>If <span class="math inline">\(A_1, A_2, ..., A_k\)</span>﻿ are a set of disjoint events such that <span class="math inline">\(\bigcup_i A_i = \varOmega\)</span>﻿ , then <span class="math inline">\(\sum_{i=1}^kP(A_i)=1\)</span>﻿.</p>
</section>
<section id="chain-rule" class="level3">
<h3 class="anchored" data-anchor-id="chain-rule">Chain Rule</h3>
<p><span class="math inline">\(p_{X_1, \ldots ,X_n}(x_1, \ldots , x_n) = p_{X_1}(x_1) \cdot p_{X_2 | X_1}(x_2 | x_1) \cdots p_{X_n | X_1, \ldots X_{n-1}}(x_n | x_1, \ldots x_{n-1})\)</span></p>
</section>
<section id="bayes-rule" class="level3">
<h3 class="anchored" data-anchor-id="bayes-rule">Bayes’ Rule</h3>
<p>Quite often, it is easy to know about the dependency of effect on the cause. However, the reverse task is quite harder. Here, the Bayes’ theorem comes into play.</p>
<p>We already know that, <span class="math display">\[P(A | B) = \frac {P(A \cap B)}{P(B)} \ and \ P(B | A) = \frac {P(A \cap B)}{P(A)}\]</span> Eliminating <span class="math inline">\(P(A \cap B)\)</span>﻿, we get, <span class="math display">\[P(A | B) = \frac {P(B|A) \cdot P(A)}{P(B)}\]</span></p>
<hr>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Several concepts, ranging from the basic cross-entropy loss to an advanced architecture like the variational autoencoder, require a clear understanding of this beautiful branch of mathematics. Rest assured! Now, you are well-equipped in terms of probability-related concepts and ready to dive straight into the world of neural networks. I have tried my best to pour this knowledge into a clear, jargon-less language. I hope it helps!</p>
<p>Thanks a lot for reading such a long blog. It took me a lot of hours to put it here, and I would appreciate your feedback. If you find a mistake, feel free to comment or send an email to <a href="shah.15@iitj.ac.in">shah.15@iitj.ac.in</a>. I will be posting new blogs related to deep learning in the upcoming days. Stay tuned!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/shahrushi2003\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","openEffect":"zoom","selector":".lightbox","descPosition":"bottom","loop":false});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>